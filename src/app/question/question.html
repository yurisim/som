<div *ngIf="question" class="p-4">
  <mat-card>
    <mat-card-header>
      <mat-card-title><h3 class="text-lg font-semibold mb-4">{{ questionNumber }}. {{ question.questionText }}</h3></mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <mat-list role="list">
        <mat-list-item
          *ngFor="let option of shuffledOptions; let i = index"
          (click)="selectOption(option)"
          class="quiz-option"
          [ngClass]="{
            'bg-green-500 opacity-50 text-white': isAnswered && isCorrect(option),
            'bg-red-500 opacity-50 text-white': isAnswered && isIncorrect(option),
            'hover:bg-gray-500 hover:text-white': !isAnswered
          }"
        >
          <span class="font-bold mr-2">{{ getLetter(i) }})</span>
          <span>{{ option.text }}</span>
        </mat-list-item>
      </mat-list>
      <div *ngIf="isAnswered" class="mt-4 p-4 bg-blue-100 border-l-4 border-blue-500 text-blue-700">
        <p class="font-bold">Explanation</p>
        <p class="italic text-sm mb-2 text-blue-600">Section: {{ question.section }}</p>
        <p>{{ question.explanation }}</p>
      </div>
    </mat-card-content>
  </mat-card>
</div>
